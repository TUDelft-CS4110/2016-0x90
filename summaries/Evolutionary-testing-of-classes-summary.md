# Evolutionary Testing of Classes
**Article:**
*Tonella, Paolo*. Evolutionary testing of classes. In Proceedings of the 2004 ACM SIGSOFT international symposium on Software testing and analysis (ISSTA '04). ACM, New York, NY, USA, 119-128.


### Automated Test Case Generation
Automated Test Case Generation consists of creating an object, changing the state of that object and proper method calls with matching corresponding values. 
Unit tests of classes should include all possible constructors and method invocations in order to analyze all cases.
Genetic algorithms use chromosome encoding ensuring that test cases for hard-to-reach code fragments are implemented by creating sequence of program calls.

### Genetic Algorithms for the Unit Testing of Classes
Genetic algorithms are broadly applied in the testing of procedural programs.

#### Unit testing of classes
Unit testing of classes considers that each class being tested consists of constructor(s), method invocation within a certain set of input parameters

#### Evolutionary testing
Evolutionary testing requires certain steps to be implemented in the algorithm, including a definition of parameters, maximum execution time, targets and automatically generated tests.
The algorithms result in generating test cases that are properly defined for at least one target (e.g., branches). 

#### Chromosomes
Chromosomes include a number of input values to be used as parameters of methods and constructors that belong to a certain class.
The specification of chromosomes thus must include the specification of the methods and the proper sequence of parameters.

#### Mutation operators
By randomly selecting mutation operators, chromosomes are being changed by the genetic algorithm.
##### Mutation of input value
Randomly generated value replaces another with the same type.
##### Constructor change
One of the constructors is randomly replaced.
##### Insertion of method invocation
New methods are generated with generated input values
##### Removal of method invocation
Randomly chosen methods are being removed.
##### One-point crossover
During a union of chromosomes at a randomly selected line, the confliction variables are being renamed, constructors are added or removed, methods are added or removed.

#### Input generators
Input generators are defined in the declaration of method signatures. 
Default input generator are used if only type names are declared.
The following types for generated rules are applied:
- Integer and real numbers (only in the interval from 0 to 100)
- Booleans (50% probability for true, and 50% for false)
- Strings (a-zA-Z0-9) 

### The Tool eToc
The Evolutionary Testing of Classes tool (eToc) uses the genetic algorithm for test case generation in the terms of the Java language.
It consists of the following components:

#### Branch instrumentor
Branch instrumentor generates instrumented code where each control flow branch is individually described and traced in the process of execution. 

#### Chromosome former
Produces new chromosomes and modifies existing chromosomes, according to method signatures. 

#### Test case generator 
Within the inner loop of the genetic algorithm every test case, identified by a chromosome is implemented.

##### Test case executor
After execution of test cases, a summary containing information of successfully passed test cases, as well as failed ones and not proper assertions, is being generated.

### Experimental Results
Experimental results have been generated by using eToc tool.
The unit testing have been applied to classes existing in the standard Java library.

#### The procedure
The Classes Under Test have been implemented using *Branch instrumentor*.
After that *Test case generator* generates JUnit test cases for each Class Under Test. 

#### Classes Under Test
The classes that have been tested with the given tool belong to standard Java library and SDK version 1.4.0.

#### Results
The outcome of the generated tests that use chromosomes repeat the theoretical assumption that the branch coverage conducted by the experiment equals to 100%.
On the other hand, the effectiveness of automatically generated tests to detect faults is to some extent high but not ideal due to data flow of attributes or change of the state of the object. 

#### Conclusions and Future Work
The usage of genetic algorithm for the purpose of unit testing is considered as quite impressive.
The generated test suites are completed in acceptable computation time.
Future work will be dedicated to discover various criteria for evaluation of effectiveness of the algorithm as it concerns data flow, fault exposing capability.
Moreover, future work is recommended to include multi-class testing.

